<!DOCTYPE html>
<html>

<head>
  <title>Conway's Game of Life</title>
  <style>
    .grid {
      margin: 1em auto;
      border: 1px solid #ccc
    }

    .grid td {
      cursor: pointer;
      width: 30px;
      height: 30px;
      text-align: center;
      font-family: sans-serif;
      font-size: 13px
    }

    .grid td.clicked {
      background-color: black;
    }
  </style>
</head>

<body>
  <script>

  // Locate infomrmation on AJAX to always be looking for updated table
//
  
  
  // 144 character string will be passed in to fill in the grid

  // Skip the first 13 elements in string. Then read 10 and skip 2 until
  // full grid is read. Last element read will be 130 out of the 144 total char.
    //var lastClicked;
    var grid = clickableGrid(10, 10, function(el, row, col) {
    console.log("You clicked on element:", el);
    console.log("You clicked on row:", row);
    console.log("You clicked on col:", col);

    // POST the row and col here

    el.className = 'clicked';
    //if (lastClicked) lastClicked.className = '';
    //lastClicked = el;
    });

    // Send row and column incremented by 1

    document.body.appendChild(grid);

    function clickableGrid(rows, cols, callback) {
    var i = 0;
    var grid = document.createElement('table');
    grid.className = 'grid';
    for (var r = 0; r < rows; ++r) {
      var tr = grid.appendChild(document.createElement('tr'));
      for (var c = 0; c < cols; ++c) {
        var cell = tr.appendChild(document.createElement('td'));
        cell.addEventListener('click', (function(el, r, c) {
          return function() {
            callback(el, r, c);
          }
        })(cell, r, c), false);
      }
    }

    // Will need to add a classname to each element stating it needs to be filled in.
    return grid;
    }
  </script>
</body>


</html>
